[FILTERING]
# EXPERT PARAMETERS - Optimized for Real Smart Money Detection

# Minimum Volume to Open Interest ratio (CRITICAL for UOA detection)
# 2.5+ = Unusual activity, 4.0+ = Highly unusual, 6.0+ = Exceptional
min_volume_oi_ratio = 2.5

# Minimum volume threshold (filters out retail noise)
min_volume = 100

# Minimum open interest threshold (ensures liquidity)
min_open_interest = 25

# Days to expiration range (sweet spot for informed trading)
# 1-45 days: Where most informed trades happen
max_dte = 45
min_dte = 1

# Minimum premium spent (TRUE smart money threshold)
# $25K+ typically indicates institutional/informed trading
min_premium_spent = 25000.0

# Maximum results (keep focused on highest quality signals)
max_results = 50

[EXPERT_ANALYSIS]
# Enhanced analysis parameters for professional traders

# Moneyness thresholds for strategic analysis
# ITM = In The Money, ATM = At The Money, OTM = Out of The Money  
# 5% from current price = ATM
atm_threshold = 0.05
# 15%+ from current price = Deep OTM
deep_otm_threshold = 0.15

# Unusual volume multipliers
# 5x+ volume/OI = HIGH signal
high_unusual_ratio = 5.0
# 8x+ volume/OI = EXTREME signal
extreme_unusual_ratio = 8.0

[DATA_VALIDATION]
# Data quality and reliability parameters

# Maximum allowed price discrepancy between sources (percentage)
# 5%
max_price_discrepancy = 0.05

# Maximum allowed volume/OI ratio (suspicious if exceeded)
# 100x
max_volume_oi_ratio = 100.0

# Minimum data quality score to consider data reliable
# 70/100
min_data_quality_score = 70

# Maximum age of data in hours
max_data_age_hours = 24

# Enable cross-validation of prices
enable_price_validation = True

# Enable data freshness checks
enable_freshness_checks = True

[IBKR_CONNECTION]
# Interactive Brokers connection settings

# IB Gateway connection parameters  
host = 127.0.0.1
# 4002 = Paper Trading, 4001 = Live Trading (IB Gateway)
# Si ce port est occup√©, essayez 4003, 4004, etc.
port = 4001
client_id = 0

# Connection timeout and retry settings
# seconds
connection_timeout = 10
max_retry_attempts = 3
# seconds between retries
retry_delay = 5

# Data request settings
# seconds to wait for data
request_timeout = 30
max_concurrent_requests = 10

# Enable IBKR as primary data source
enable_ibkr = True
# Use IBKR as primary source, yfinance as fallback
use_ibkr_primary = True

# Fallback settings
fallback_to_yfinance = True
# seconds before falling back
fallback_timeout = 5

[IBKR_DATA_QUALITY]
# IBKR specific data quality settings

# Minimum data quality requirements for IBKR data
# Maximum bid-ask spread as % of mid price
min_bid_ask_spread_ratio = 0.5
# Minimum volume for reliable data
min_volume_threshold = 1
# Maximum age of data in minutes
max_stale_data_minutes = 5

# Real-time data validation
validate_real_time_data = True
# Disable cross-validation for IBKR (it's already high quality)
cross_validate_with_yfinance = False

